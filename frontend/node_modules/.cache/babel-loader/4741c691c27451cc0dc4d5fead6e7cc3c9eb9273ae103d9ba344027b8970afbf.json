{"ast":null,"code":"var _jsxFileName = \"/Users/idahyeon/ad-project/frontend/src/components/MealForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { uploadMeal, searchFoods } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MealForm({\n  onMealUploaded\n}) {\n  _s();\n  const [date, setDate] = useState(new Date().toISOString().slice(0, 10));\n  const [mealType, setMealType] = useState('breakfast');\n\n  // 음식 검색 및 추가 관련 상태\n  const [currentFoodQuery, setCurrentFoodQuery] = useState('');\n  const [searchedFoods, setSearchedFoods] = useState([]);\n  const [searchLoading, setSearchLoading] = useState(false);\n  const [searchError, setSearchError] = useState('');\n  const [selectedItemsForMeal, setSelectedItemsForMeal] = useState([]);\n\n  // 수동 입력 관련 상태\n  const [showManualAddForm, setShowManualAddForm] = useState(false);\n  const [manualFoodName, setManualFoodName] = useState('');\n  const [manualKcal, setManualKcal] = useState('');\n  // 추가: 수동 입력 시 간단한 영양 정보도 함께 표시 (백엔드 저장은 이름만)\n  const [manualProtein, setManualProtein] = useState('');\n  const [manualCarbs, setManualCarbs] = useState('');\n  const [manualFat, setManualFat] = useState('');\n\n  // 메시지/에러/로딩 상태 (최종 제출용)\n  const [submitMessage, setSubmitMessage] = useState('');\n  const [submitError, setSubmitError] = useState('');\n  const [submitLoading, setSubmitLoading] = useState(false);\n  const handleFoodSearch = async () => {\n    if (!currentFoodQuery.trim()) {\n      setSearchError('검색할 음식 이름을 입력해주세요.');\n      return;\n    }\n    setSearchLoading(true);\n    setSearchError('');\n    setSearchedFoods([]);\n    try {\n      const response = await searchFoods(currentFoodQuery);\n      setSearchedFoods(response.data.results || []);\n      if ((response.data.results || []).length === 0) {\n        setSearchError('검색 결과가 없습니다. 직접 추가해보세요.');\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setSearchError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.detail) || '음식 검색 중 오류 발생');\n      console.error(\"Error searching foods:\", err);\n    }\n    setSearchLoading(false);\n  };\n  const handleAddFoodToMeal = food => {\n    // food 객체에는 name, nutrition 정보가 있음\n    setSelectedItemsForMeal(prev => [...prev, {\n      name: food.name,\n      source: 'search',\n      nutrition: food.nutrition\n    }]);\n  };\n  const handleManualFoodAdd = () => {\n    if (!manualFoodName.trim() || !manualKcal.trim()) {\n      alert('음식 이름과 칼로리는 필수로 입력해야 합니다.');\n      return;\n    }\n    const newManualFood = {\n      name: manualFoodName,\n      source: 'manual',\n      // 수동 입력된 영양 정보도 함께 저장 (프론트엔드 표시용)\n      nutrition: {\n        kcal: parseFloat(manualKcal) || 0,\n        protein: parseFloat(manualProtein) || 0,\n        fat: parseFloat(manualFat) || 0,\n        carbs: parseFloat(manualCarbs) || 0\n      }\n    };\n    setSelectedItemsForMeal(prev => [...prev, newManualFood]);\n    // 입력 필드 초기화\n    setManualFoodName('');\n    setManualKcal('');\n    setManualProtein('');\n    setManualCarbs('');\n    setManualFat('');\n    setShowManualAddForm(false);\n  };\n  const handleRemoveFoodFromMeal = indexToRemove => {\n    setSelectedItemsForMeal(prev => prev.filter((_, index) => index !== indexToRemove));\n  };\n  const handleSubmitMeal = async e => {\n    e.preventDefault();\n    setSubmitError('');\n    setSubmitMessage('');\n    setSubmitLoading(true);\n    if (selectedItemsForMeal.length === 0) {\n      setSubmitError('하나 이상의 음식을 추가해주세요.');\n      setSubmitLoading(false);\n      return;\n    }\n    const mealData = {\n      date: date,\n      type: mealType,\n      items: selectedItemsForMeal.map(item => item.name) // 백엔드에는 음식 이름만 전송\n    };\n    try {\n      const response = await uploadMeal(mealData);\n      setSubmitMessage(response.data.message || '식사가 성공적으로 기록되었습니다.');\n      setSelectedItemsForMeal([]); // 기록 후 선택 목록 초기화\n      setCurrentFoodQuery('');\n      setSearchedFoods([]);\n      if (onMealUploaded) {\n        onMealUploaded(response.data.meal, response.data.nutrition);\n      }\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setSubmitError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.detail) || '식사 기록 중 오류가 발생했습니다.');\n      console.error(\"Error uploading meal:\", err);\n    } finally {\n      setSubmitLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"card-title\",\n      children: \"\\uD83C\\uDF5A \\uC2DD\\uC0AC \\uAE30\\uB85D\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmitMeal,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"date\",\n          children: \"\\uB0A0\\uC9DC:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          id: \"date\",\n          value: date,\n          onChange: e => setDate(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"mealType\",\n          children: \"\\uC2DD\\uC0AC \\uC885\\uB958:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"mealType\",\n          value: mealType,\n          onChange: e => setMealType(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"breakfast\",\n            children: \"\\uC544\\uCE68\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"lunch\",\n            children: \"\\uC810\\uC2EC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"dinner\",\n            children: \"\\uC800\\uB141\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"snack\",\n            children: \"\\uAC04\\uC2DD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uC74C\\uC2DD \\uCD94\\uAC00\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"foodQuery\",\n            children: \"\\uC74C\\uC2DD \\uC774\\uB984 \\uAC80\\uC0C9:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"foodQuery\",\n              value: currentFoodQuery,\n              onChange: e => setCurrentFoodQuery(e.target.value),\n              placeholder: \"\\uC608: \\uB2ED\\uAC00\\uC2B4\\uC0B4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleFoodSearch,\n              disabled: searchLoading,\n              children: searchLoading ? '검색 중...' : '음식 검색'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), searchError && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: 'red',\n              fontSize: '0.9em'\n            },\n            children: searchError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), searchedFoods.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\uAC80\\uC0C9 \\uACB0\\uACFC:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"meal-items-list\",\n            children: searchedFoods.map((food, index) => {\n              var _food$nutrition$kcal, _food$score;\n              return /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [food.name, \" (\", (_food$nutrition$kcal = food.nutrition.kcal) === null || _food$nutrition$kcal === void 0 ? void 0 : _food$nutrition$kcal.toFixed(0), \" kcal) - \\uC720\\uC0AC\\uB3C4: \", (_food$score = food.score) === null || _food$score === void 0 ? void 0 : _food$score.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => handleAddFoodToMeal(food),\n                  style: {\n                    fontSize: '0.8em',\n                    padding: '3px 8px'\n                  },\n                  children: \"\\uCD94\\uAC00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 21\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setShowManualAddForm(!showManualAddForm),\n          style: {\n            marginTop: '10px',\n            backgroundColor: '#5cb85c'\n          },\n          children: showManualAddForm ? '직접 추가 취소' : '원하는 음식이 없나요? 직접 추가'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), showManualAddForm && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section\",\n        style: {\n          border: '1px dashed #3498db'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\uC74C\\uC2DD \\uC9C1\\uC811 \\uCD94\\uAC00\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"manualFoodName\",\n            children: \"\\uC74C\\uC2DD \\uC774\\uB984:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"manualFoodName\",\n            value: manualFoodName,\n            onChange: e => setManualFoodName(e.target.value),\n            placeholder: \"\\uC608: \\uC5C4\\uB9C8\\uD45C \\uAE40\\uCE58\\uBCF6\\uC74C\\uBC25\",\n            required: showManualAddForm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"manualKcal\",\n            children: \"\\uCE7C\\uB85C\\uB9AC (kcal):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"manualKcal\",\n            value: manualKcal,\n            onChange: e => setManualKcal(e.target.value),\n            placeholder: \"\\uC608: 550\",\n            required: showManualAddForm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"manualProtein\",\n            children: \"\\uB2E8\\uBC31\\uC9C8 (g):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"manualProtein\",\n            value: manualProtein,\n            onChange: e => setManualProtein(e.target.value),\n            placeholder: \"(\\uC120\\uD0DD)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 65\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"manualCarbs\",\n            children: \"\\uD0C4\\uC218\\uD654\\uBB3C (g):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"manualCarbs\",\n            value: manualCarbs,\n            onChange: e => setManualCarbs(e.target.value),\n            placeholder: \"(\\uC120\\uD0DD)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 64\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"manualFat\",\n            children: \"\\uC9C0\\uBC29 (g):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"manualFat\",\n            value: manualFat,\n            onChange: e => setManualFat(e.target.value),\n            placeholder: \"(\\uC120\\uD0DD)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 60\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleManualFoodAdd,\n          style: {\n            backgroundColor: '#f0ad4e'\n          },\n          children: \"\\uC218\\uB3D9\\uC73C\\uB85C \\uD56D\\uBAA9 \\uCD94\\uAC00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, this), selectedItemsForMeal.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\uC774\\uBC88 \\uC2DD\\uC0AC\\uC5D0 \\uCD94\\uAC00\\uB41C \\uD56D\\uBAA9:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"meal-items-list\",\n          children: selectedItemsForMeal.map((item, index) => {\n            var _item$nutrition$kcal$, _item$nutrition, _item$nutrition$kcal;\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              style: {\n                backgroundColor: item.source === 'manual' ? '#fff3cd' : '#e9f7ef'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [item.name, \"(\\uC57D \", (_item$nutrition$kcal$ = (_item$nutrition = item.nutrition) === null || _item$nutrition === void 0 ? void 0 : (_item$nutrition$kcal = _item$nutrition.kcal) === null || _item$nutrition$kcal === void 0 ? void 0 : _item$nutrition$kcal.toFixed(0)) !== null && _item$nutrition$kcal$ !== void 0 ? _item$nutrition$kcal$ : 'N/A', \" kcal\", item.source === 'manual' && ' - 직접입력', \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => handleRemoveFoodFromMeal(index),\n                style: {\n                  fontSize: '0.8em',\n                  padding: '3px 8px',\n                  backgroundColor: '#d9534f'\n                },\n                children: \"\\uC81C\\uAC70\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: submitLoading || selectedItemsForMeal.length === 0,\n        style: {\n          marginTop: '20px',\n          backgroundColor: '#0275d8'\n        },\n        children: submitLoading ? '최종 기록 중...' : '이 식단으로 최종 기록'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), submitMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'green'\n      },\n      children: submitMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 25\n    }, this), submitError && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red'\n      },\n      children: submitError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 23\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n}\n_s(MealForm, \"0UBJrRFAnH0w/epXk8ehxfM5lbg=\");\n_c = MealForm;\nexport default MealForm;\nvar _c;\n$RefreshReg$(_c, \"MealForm\");","map":{"version":3,"names":["React","useState","uploadMeal","searchFoods","jsxDEV","_jsxDEV","MealForm","onMealUploaded","_s","date","setDate","Date","toISOString","slice","mealType","setMealType","currentFoodQuery","setCurrentFoodQuery","searchedFoods","setSearchedFoods","searchLoading","setSearchLoading","searchError","setSearchError","selectedItemsForMeal","setSelectedItemsForMeal","showManualAddForm","setShowManualAddForm","manualFoodName","setManualFoodName","manualKcal","setManualKcal","manualProtein","setManualProtein","manualCarbs","setManualCarbs","manualFat","setManualFat","submitMessage","setSubmitMessage","submitError","setSubmitError","submitLoading","setSubmitLoading","handleFoodSearch","trim","response","data","results","length","err","_err$response","_err$response$data","detail","console","error","handleAddFoodToMeal","food","prev","name","source","nutrition","handleManualFoodAdd","alert","newManualFood","kcal","parseFloat","protein","fat","carbs","handleRemoveFoodFromMeal","indexToRemove","filter","_","index","handleSubmitMeal","e","preventDefault","mealData","type","items","map","item","message","meal","_err$response2","_err$response2$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","id","value","onChange","target","required","style","display","gap","placeholder","onClick","disabled","color","fontSize","_food$nutrition$kcal","_food$score","toFixed","score","padding","marginTop","backgroundColor","border","_item$nutrition$kcal$","_item$nutrition","_item$nutrition$kcal","_c","$RefreshReg$"],"sources":["/Users/idahyeon/ad-project/frontend/src/components/MealForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { uploadMeal, searchFoods } from '../services/api';\n\nfunction MealForm({ onMealUploaded }) {\n  const [date, setDate] = useState(new Date().toISOString().slice(0, 10));\n  const [mealType, setMealType] = useState('breakfast');\n  \n  // 음식 검색 및 추가 관련 상태\n  const [currentFoodQuery, setCurrentFoodQuery] = useState('');\n  const [searchedFoods, setSearchedFoods] = useState([]);\n  const [searchLoading, setSearchLoading] = useState(false);\n  const [searchError, setSearchError] = useState('');\n  const [selectedItemsForMeal, setSelectedItemsForMeal] = useState([]);\n\n  // 수동 입력 관련 상태\n  const [showManualAddForm, setShowManualAddForm] = useState(false);\n  const [manualFoodName, setManualFoodName] = useState('');\n  const [manualKcal, setManualKcal] = useState('');\n  // 추가: 수동 입력 시 간단한 영양 정보도 함께 표시 (백엔드 저장은 이름만)\n  const [manualProtein, setManualProtein] = useState('');\n  const [manualCarbs, setManualCarbs] = useState('');\n  const [manualFat, setManualFat] = useState('');\n\n  // 메시지/에러/로딩 상태 (최종 제출용)\n  const [submitMessage, setSubmitMessage] = useState('');\n  const [submitError, setSubmitError] = useState('');\n  const [submitLoading, setSubmitLoading] = useState(false);\n\n  const handleFoodSearch = async () => {\n    if (!currentFoodQuery.trim()) {\n      setSearchError('검색할 음식 이름을 입력해주세요.');\n      return;\n    }\n    setSearchLoading(true);\n    setSearchError('');\n    setSearchedFoods([]);\n    try {\n      const response = await searchFoods(currentFoodQuery);\n      setSearchedFoods(response.data.results || []);\n      if ((response.data.results || []).length === 0) {\n        setSearchError('검색 결과가 없습니다. 직접 추가해보세요.');\n      }\n    } catch (err) {\n      setSearchError(err.response?.data?.detail || '음식 검색 중 오류 발생');\n      console.error(\"Error searching foods:\", err);\n    }\n    setSearchLoading(false);\n  };\n\n  const handleAddFoodToMeal = (food) => {\n    // food 객체에는 name, nutrition 정보가 있음\n    setSelectedItemsForMeal(prev => [...prev, { name: food.name, source: 'search', nutrition: food.nutrition }]);\n  };\n\n  const handleManualFoodAdd = () => {\n    if (!manualFoodName.trim() || !manualKcal.trim()) {\n        alert('음식 이름과 칼로리는 필수로 입력해야 합니다.');\n        return;\n    }\n    const newManualFood = {\n        name: manualFoodName,\n        source: 'manual',\n        // 수동 입력된 영양 정보도 함께 저장 (프론트엔드 표시용)\n        nutrition: {\n            kcal: parseFloat(manualKcal) || 0,\n            protein: parseFloat(manualProtein) || 0,\n            fat: parseFloat(manualFat) || 0,\n            carbs: parseFloat(manualCarbs) || 0,\n        }\n    };\n    setSelectedItemsForMeal(prev => [...prev, newManualFood]);\n    // 입력 필드 초기화\n    setManualFoodName('');\n    setManualKcal('');\n    setManualProtein('');\n    setManualCarbs('');\n    setManualFat('');\n    setShowManualAddForm(false);\n  };\n\n  const handleRemoveFoodFromMeal = (indexToRemove) => {\n    setSelectedItemsForMeal(prev => prev.filter((_, index) => index !== indexToRemove));\n  };\n\n  const handleSubmitMeal = async (e) => {\n    e.preventDefault();\n    setSubmitError('');\n    setSubmitMessage('');\n    setSubmitLoading(true);\n\n    if (selectedItemsForMeal.length === 0) {\n      setSubmitError('하나 이상의 음식을 추가해주세요.');\n      setSubmitLoading(false);\n      return;\n    }\n\n    const mealData = {\n      date: date,\n      type: mealType,\n      items: selectedItemsForMeal.map(item => item.name), // 백엔드에는 음식 이름만 전송\n    };\n\n    try {\n      const response = await uploadMeal(mealData);\n      setSubmitMessage(response.data.message || '식사가 성공적으로 기록되었습니다.');\n      setSelectedItemsForMeal([]); // 기록 후 선택 목록 초기화\n      setCurrentFoodQuery('');\n      setSearchedFoods([]);\n      if (onMealUploaded) {\n        onMealUploaded(response.data.meal, response.data.nutrition);\n      }\n    } catch (err) {\n      setSubmitError(err.response?.data?.detail || '식사 기록 중 오류가 발생했습니다.');\n      console.error(\"Error uploading meal:\", err);\n    } finally {\n      setSubmitLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"card\">\n      <h2 className=\"card-title\">🍚 식사 기록</h2>\n      <form onSubmit={handleSubmitMeal}>\n        <div>\n          <label htmlFor=\"date\">날짜:</label>\n          <input type=\"date\" id=\"date\" value={date} onChange={(e) => setDate(e.target.value)} required />\n        </div>\n        <div>\n          <label htmlFor=\"mealType\">식사 종류:</label>\n          <select id=\"mealType\" value={mealType} onChange={(e) => setMealType(e.target.value)}>\n            <option value=\"breakfast\">아침</option>\n            <option value=\"lunch\">점심</option>\n            <option value=\"dinner\">저녁</option>\n            <option value=\"snack\">간식</option>\n          </select>\n        </div>\n\n        {/* 음식 검색 섹션 */}\n        <div className=\"section\">\n          <h3>음식 추가하기</h3>\n          <div>\n            <label htmlFor=\"foodQuery\">음식 이름 검색:</label>\n            <div style={{ display: 'flex', gap: '10px' }}>\n              <input\n                type=\"text\"\n                id=\"foodQuery\"\n                value={currentFoodQuery}\n                onChange={(e) => setCurrentFoodQuery(e.target.value)}\n                placeholder=\"예: 닭가슴살\"\n              />\n              <button type=\"button\" onClick={handleFoodSearch} disabled={searchLoading}>\n                {searchLoading ? '검색 중...' : '음식 검색'}\n              </button>\n            </div>\n            {searchError && <p style={{ color: 'red', fontSize: '0.9em' }}>{searchError}</p>}\n          </div>\n\n          {searchedFoods.length > 0 && (\n            <div>\n              <h4>검색 결과:</h4>\n              <ul className=\"meal-items-list\">\n                {searchedFoods.map((food, index) => (\n                  <li key={index}>\n                    <span>{food.name} ({food.nutrition.kcal?.toFixed(0)} kcal) - 유사도: {food.score?.toFixed(2)}</span>\n                    <button type=\"button\" onClick={() => handleAddFoodToMeal(food)} style={{fontSize: '0.8em', padding: '3px 8px'}}>\n                      추가\n                    </button>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n          \n          <button type=\"button\" onClick={() => setShowManualAddForm(!showManualAddForm)} style={{marginTop: '10px', backgroundColor: '#5cb85c'}}>\n            {showManualAddForm ? '직접 추가 취소' : '원하는 음식이 없나요? 직접 추가'}\n          </button>\n        </div>\n\n        {/* 수동 입력 폼 */} \n        {showManualAddForm && (\n          <div className=\"section\" style={{border: '1px dashed #3498db'}}>\n            <h4>음식 직접 추가하기</h4>\n            <div>\n              <label htmlFor=\"manualFoodName\">음식 이름:</label>\n              <input type=\"text\" id=\"manualFoodName\" value={manualFoodName} onChange={(e) => setManualFoodName(e.target.value)} placeholder=\"예: 엄마표 김치볶음밥\" required={showManualAddForm} />\n            </div>\n            <div>\n              <label htmlFor=\"manualKcal\">칼로리 (kcal):</label>\n              <input type=\"number\" id=\"manualKcal\" value={manualKcal} onChange={(e) => setManualKcal(e.target.value)} placeholder=\"예: 550\" required={showManualAddForm} />\n            </div>\n            <div><label htmlFor=\"manualProtein\">단백질 (g):</label><input type=\"number\" id=\"manualProtein\" value={manualProtein} onChange={(e) => setManualProtein(e.target.value)} placeholder=\"(선택)\"/></div>\n            <div><label htmlFor=\"manualCarbs\">탄수화물 (g):</label><input type=\"number\" id=\"manualCarbs\" value={manualCarbs} onChange={(e) => setManualCarbs(e.target.value)} placeholder=\"(선택)\"/></div>\n            <div><label htmlFor=\"manualFat\">지방 (g):</label><input type=\"number\" id=\"manualFat\" value={manualFat} onChange={(e) => setManualFat(e.target.value)} placeholder=\"(선택)\"/></div>\n            <button type=\"button\" onClick={handleManualFoodAdd} style={{backgroundColor: '#f0ad4e'}}>\n              수동으로 항목 추가\n            </button>\n          </div>\n        )}\n\n        {/* 현재 식사에 추가된 항목 */} \n        {selectedItemsForMeal.length > 0 && (\n          <div className=\"section\">\n            <h4>이번 식사에 추가된 항목:</h4>\n            <ul className=\"meal-items-list\">\n              {selectedItemsForMeal.map((item, index) => (\n                <li key={index} style={{backgroundColor: item.source === 'manual' ? '#fff3cd' : '#e9f7ef'}}>\n                  <span>\n                    {item.name} \n                    (약 {item.nutrition?.kcal?.toFixed(0) ?? 'N/A'} kcal\n                    {item.source === 'manual' && ' - 직접입력'})\n                  </span>\n                  <button type=\"button\" onClick={() => handleRemoveFoodFromMeal(index)} style={{fontSize: '0.8em', padding: '3px 8px', backgroundColor: '#d9534f'}}>\n                    제거\n                  </button>\n                </li>\n              ))}\n            </ul>\n          </div>\n        )}\n\n        <button type=\"submit\" disabled={submitLoading || selectedItemsForMeal.length === 0} style={{marginTop: '20px', backgroundColor: '#0275d8'}}>\n          {submitLoading ? '최종 기록 중...' : '이 식단으로 최종 기록'}\n        </button>\n      </form>\n      {submitMessage && <p style={{ color: 'green' }}>{submitMessage}</p>}\n      {submitError && <p style={{ color: 'red' }}>{submitError}</p>}\n    </div>\n  );\n}\n\nexport default MealForm; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,UAAU,EAAEC,WAAW,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1D,SAASC,QAAQA,CAAC;EAAEC;AAAe,CAAC,EAAE;EAAAC,EAAA;EACpC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGT,QAAQ,CAAC,IAAIU,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;EACvE,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC,WAAW,CAAC;;EAErD;EACA,MAAM,CAACe,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAACiB,aAAa,EAAEC,gBAAgB,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACmB,aAAa,EAAEC,gBAAgB,CAAC,GAAGpB,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAACqB,WAAW,EAAEC,cAAc,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACuB,oBAAoB,EAAEC,uBAAuB,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;;EAEpE;EACA,MAAM,CAACyB,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG1B,QAAQ,CAAC,KAAK,CAAC;EACjE,MAAM,CAAC2B,cAAc,EAAEC,iBAAiB,CAAC,GAAG5B,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAAC6B,UAAU,EAAEC,aAAa,CAAC,GAAG9B,QAAQ,CAAC,EAAE,CAAC;EAChD;EACA,MAAM,CAAC+B,aAAa,EAAEC,gBAAgB,CAAC,GAAGhC,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACiC,WAAW,EAAEC,cAAc,CAAC,GAAGlC,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACmC,SAAS,EAAEC,YAAY,CAAC,GAAGpC,QAAQ,CAAC,EAAE,CAAC;;EAE9C;EACA,MAAM,CAACqC,aAAa,EAAEC,gBAAgB,CAAC,GAAGtC,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACuC,WAAW,EAAEC,cAAc,CAAC,GAAGxC,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACyC,aAAa,EAAEC,gBAAgB,CAAC,GAAG1C,QAAQ,CAAC,KAAK,CAAC;EAEzD,MAAM2C,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACnC,IAAI,CAAC5B,gBAAgB,CAAC6B,IAAI,CAAC,CAAC,EAAE;MAC5BtB,cAAc,CAAC,oBAAoB,CAAC;MACpC;IACF;IACAF,gBAAgB,CAAC,IAAI,CAAC;IACtBE,cAAc,CAAC,EAAE,CAAC;IAClBJ,gBAAgB,CAAC,EAAE,CAAC;IACpB,IAAI;MACF,MAAM2B,QAAQ,GAAG,MAAM3C,WAAW,CAACa,gBAAgB,CAAC;MACpDG,gBAAgB,CAAC2B,QAAQ,CAACC,IAAI,CAACC,OAAO,IAAI,EAAE,CAAC;MAC7C,IAAI,CAACF,QAAQ,CAACC,IAAI,CAACC,OAAO,IAAI,EAAE,EAAEC,MAAM,KAAK,CAAC,EAAE;QAC9C1B,cAAc,CAAC,yBAAyB,CAAC;MAC3C;IACF,CAAC,CAAC,OAAO2B,GAAG,EAAE;MAAA,IAAAC,aAAA,EAAAC,kBAAA;MACZ7B,cAAc,CAAC,EAAA4B,aAAA,GAAAD,GAAG,CAACJ,QAAQ,cAAAK,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcJ,IAAI,cAAAK,kBAAA,uBAAlBA,kBAAA,CAAoBC,MAAM,KAAI,eAAe,CAAC;MAC7DC,OAAO,CAACC,KAAK,CAAC,wBAAwB,EAAEL,GAAG,CAAC;IAC9C;IACA7B,gBAAgB,CAAC,KAAK,CAAC;EACzB,CAAC;EAED,MAAMmC,mBAAmB,GAAIC,IAAI,IAAK;IACpC;IACAhC,uBAAuB,CAACiC,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE;MAAEC,IAAI,EAAEF,IAAI,CAACE,IAAI;MAAEC,MAAM,EAAE,QAAQ;MAAEC,SAAS,EAAEJ,IAAI,CAACI;IAAU,CAAC,CAAC,CAAC;EAC9G,CAAC;EAED,MAAMC,mBAAmB,GAAGA,CAAA,KAAM;IAChC,IAAI,CAAClC,cAAc,CAACiB,IAAI,CAAC,CAAC,IAAI,CAACf,UAAU,CAACe,IAAI,CAAC,CAAC,EAAE;MAC9CkB,KAAK,CAAC,2BAA2B,CAAC;MAClC;IACJ;IACA,MAAMC,aAAa,GAAG;MAClBL,IAAI,EAAE/B,cAAc;MACpBgC,MAAM,EAAE,QAAQ;MAChB;MACAC,SAAS,EAAE;QACPI,IAAI,EAAEC,UAAU,CAACpC,UAAU,CAAC,IAAI,CAAC;QACjCqC,OAAO,EAAED,UAAU,CAAClC,aAAa,CAAC,IAAI,CAAC;QACvCoC,GAAG,EAAEF,UAAU,CAAC9B,SAAS,CAAC,IAAI,CAAC;QAC/BiC,KAAK,EAAEH,UAAU,CAAChC,WAAW,CAAC,IAAI;MACtC;IACJ,CAAC;IACDT,uBAAuB,CAACiC,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEM,aAAa,CAAC,CAAC;IACzD;IACAnC,iBAAiB,CAAC,EAAE,CAAC;IACrBE,aAAa,CAAC,EAAE,CAAC;IACjBE,gBAAgB,CAAC,EAAE,CAAC;IACpBE,cAAc,CAAC,EAAE,CAAC;IAClBE,YAAY,CAAC,EAAE,CAAC;IAChBV,oBAAoB,CAAC,KAAK,CAAC;EAC7B,CAAC;EAED,MAAM2C,wBAAwB,GAAIC,aAAa,IAAK;IAClD9C,uBAAuB,CAACiC,IAAI,IAAIA,IAAI,CAACc,MAAM,CAAC,CAACC,CAAC,EAAEC,KAAK,KAAKA,KAAK,KAAKH,aAAa,CAAC,CAAC;EACrF,CAAC;EAED,MAAMI,gBAAgB,GAAG,MAAOC,CAAC,IAAK;IACpCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBpC,cAAc,CAAC,EAAE,CAAC;IAClBF,gBAAgB,CAAC,EAAE,CAAC;IACpBI,gBAAgB,CAAC,IAAI,CAAC;IAEtB,IAAInB,oBAAoB,CAACyB,MAAM,KAAK,CAAC,EAAE;MACrCR,cAAc,CAAC,oBAAoB,CAAC;MACpCE,gBAAgB,CAAC,KAAK,CAAC;MACvB;IACF;IAEA,MAAMmC,QAAQ,GAAG;MACfrE,IAAI,EAAEA,IAAI;MACVsE,IAAI,EAAEjE,QAAQ;MACdkE,KAAK,EAAExD,oBAAoB,CAACyD,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACvB,IAAI,CAAC,CAAE;IACtD,CAAC;IAED,IAAI;MACF,MAAMb,QAAQ,GAAG,MAAM5C,UAAU,CAAC4E,QAAQ,CAAC;MAC3CvC,gBAAgB,CAACO,QAAQ,CAACC,IAAI,CAACoC,OAAO,IAAI,oBAAoB,CAAC;MAC/D1D,uBAAuB,CAAC,EAAE,CAAC,CAAC,CAAC;MAC7BR,mBAAmB,CAAC,EAAE,CAAC;MACvBE,gBAAgB,CAAC,EAAE,CAAC;MACpB,IAAIZ,cAAc,EAAE;QAClBA,cAAc,CAACuC,QAAQ,CAACC,IAAI,CAACqC,IAAI,EAAEtC,QAAQ,CAACC,IAAI,CAACc,SAAS,CAAC;MAC7D;IACF,CAAC,CAAC,OAAOX,GAAG,EAAE;MAAA,IAAAmC,cAAA,EAAAC,mBAAA;MACZ7C,cAAc,CAAC,EAAA4C,cAAA,GAAAnC,GAAG,CAACJ,QAAQ,cAAAuC,cAAA,wBAAAC,mBAAA,GAAZD,cAAA,CAActC,IAAI,cAAAuC,mBAAA,uBAAlBA,mBAAA,CAAoBjC,MAAM,KAAI,qBAAqB,CAAC;MACnEC,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEL,GAAG,CAAC;IAC7C,CAAC,SAAS;MACRP,gBAAgB,CAAC,KAAK,CAAC;IACzB;EACF,CAAC;EAED,oBACEtC,OAAA;IAAKkF,SAAS,EAAC,MAAM;IAAAC,QAAA,gBACnBnF,OAAA;MAAIkF,SAAS,EAAC,YAAY;MAAAC,QAAA,EAAC;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACxCvF,OAAA;MAAMwF,QAAQ,EAAElB,gBAAiB;MAAAa,QAAA,gBAC/BnF,OAAA;QAAAmF,QAAA,gBACEnF,OAAA;UAAOyF,OAAO,EAAC,MAAM;UAAAN,QAAA,EAAC;QAAG;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACjCvF,OAAA;UAAO0E,IAAI,EAAC,MAAM;UAACgB,EAAE,EAAC,MAAM;UAACC,KAAK,EAAEvF,IAAK;UAACwF,QAAQ,EAAGrB,CAAC,IAAKlE,OAAO,CAACkE,CAAC,CAACsB,MAAM,CAACF,KAAK,CAAE;UAACG,QAAQ;QAAA;UAAAV,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5F,CAAC,eACNvF,OAAA;QAAAmF,QAAA,gBACEnF,OAAA;UAAOyF,OAAO,EAAC,UAAU;UAAAN,QAAA,EAAC;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACxCvF,OAAA;UAAQ0F,EAAE,EAAC,UAAU;UAACC,KAAK,EAAElF,QAAS;UAACmF,QAAQ,EAAGrB,CAAC,IAAK7D,WAAW,CAAC6D,CAAC,CAACsB,MAAM,CAACF,KAAK,CAAE;UAAAR,QAAA,gBAClFnF,OAAA;YAAQ2F,KAAK,EAAC,WAAW;YAAAR,QAAA,EAAC;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACrCvF,OAAA;YAAQ2F,KAAK,EAAC,OAAO;YAAAR,QAAA,EAAC;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACjCvF,OAAA;YAAQ2F,KAAK,EAAC,QAAQ;YAAAR,QAAA,EAAC;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAClCvF,OAAA;YAAQ2F,KAAK,EAAC,OAAO;YAAAR,QAAA,EAAC;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAGNvF,OAAA;QAAKkF,SAAS,EAAC,SAAS;QAAAC,QAAA,gBACtBnF,OAAA;UAAAmF,QAAA,EAAI;QAAO;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAChBvF,OAAA;UAAAmF,QAAA,gBACEnF,OAAA;YAAOyF,OAAO,EAAC,WAAW;YAAAN,QAAA,EAAC;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC5CvF,OAAA;YAAK+F,KAAK,EAAE;cAAEC,OAAO,EAAE,MAAM;cAAEC,GAAG,EAAE;YAAO,CAAE;YAAAd,QAAA,gBAC3CnF,OAAA;cACE0E,IAAI,EAAC,MAAM;cACXgB,EAAE,EAAC,WAAW;cACdC,KAAK,EAAEhF,gBAAiB;cACxBiF,QAAQ,EAAGrB,CAAC,IAAK3D,mBAAmB,CAAC2D,CAAC,CAACsB,MAAM,CAACF,KAAK,CAAE;cACrDO,WAAW,EAAC;YAAS;cAAAd,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtB,CAAC,eACFvF,OAAA;cAAQ0E,IAAI,EAAC,QAAQ;cAACyB,OAAO,EAAE5D,gBAAiB;cAAC6D,QAAQ,EAAErF,aAAc;cAAAoE,QAAA,EACtEpE,aAAa,GAAG,SAAS,GAAG;YAAO;cAAAqE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,EACLtE,WAAW,iBAAIjB,OAAA;YAAG+F,KAAK,EAAE;cAAEM,KAAK,EAAE,KAAK;cAAEC,QAAQ,EAAE;YAAQ,CAAE;YAAAnB,QAAA,EAAElE;UAAW;YAAAmE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7E,CAAC,EAEL1E,aAAa,CAAC+B,MAAM,GAAG,CAAC,iBACvB5C,OAAA;UAAAmF,QAAA,gBACEnF,OAAA;YAAAmF,QAAA,EAAI;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACfvF,OAAA;YAAIkF,SAAS,EAAC,iBAAiB;YAAAC,QAAA,EAC5BtE,aAAa,CAAC+D,GAAG,CAAC,CAACxB,IAAI,EAAEiB,KAAK;cAAA,IAAAkC,oBAAA,EAAAC,WAAA;cAAA,oBAC7BxG,OAAA;gBAAAmF,QAAA,gBACEnF,OAAA;kBAAAmF,QAAA,GAAO/B,IAAI,CAACE,IAAI,EAAC,IAAE,GAAAiD,oBAAA,GAACnD,IAAI,CAACI,SAAS,CAACI,IAAI,cAAA2C,oBAAA,uBAAnBA,oBAAA,CAAqBE,OAAO,CAAC,CAAC,CAAC,EAAC,+BAAc,GAAAD,WAAA,GAACpD,IAAI,CAACsD,KAAK,cAAAF,WAAA,uBAAVA,WAAA,CAAYC,OAAO,CAAC,CAAC,CAAC;gBAAA;kBAAArB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACjGvF,OAAA;kBAAQ0E,IAAI,EAAC,QAAQ;kBAACyB,OAAO,EAAEA,CAAA,KAAMhD,mBAAmB,CAACC,IAAI,CAAE;kBAAC2C,KAAK,EAAE;oBAACO,QAAQ,EAAE,OAAO;oBAAEK,OAAO,EAAE;kBAAS,CAAE;kBAAAxB,QAAA,EAAC;gBAEhH;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA,GAJFlB,KAAK;gBAAAe,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAKV,CAAC;YAAA,CACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CACN,eAEDvF,OAAA;UAAQ0E,IAAI,EAAC,QAAQ;UAACyB,OAAO,EAAEA,CAAA,KAAM7E,oBAAoB,CAAC,CAACD,iBAAiB,CAAE;UAAC0E,KAAK,EAAE;YAACa,SAAS,EAAE,MAAM;YAAEC,eAAe,EAAE;UAAS,CAAE;UAAA1B,QAAA,EACnI9D,iBAAiB,GAAG,UAAU,GAAG;QAAoB;UAAA+D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,EAGLlE,iBAAiB,iBAChBrB,OAAA;QAAKkF,SAAS,EAAC,SAAS;QAACa,KAAK,EAAE;UAACe,MAAM,EAAE;QAAoB,CAAE;QAAA3B,QAAA,gBAC7DnF,OAAA;UAAAmF,QAAA,EAAI;QAAU;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACnBvF,OAAA;UAAAmF,QAAA,gBACEnF,OAAA;YAAOyF,OAAO,EAAC,gBAAgB;YAAAN,QAAA,EAAC;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC9CvF,OAAA;YAAO0E,IAAI,EAAC,MAAM;YAACgB,EAAE,EAAC,gBAAgB;YAACC,KAAK,EAAEpE,cAAe;YAACqE,QAAQ,EAAGrB,CAAC,IAAK/C,iBAAiB,CAAC+C,CAAC,CAACsB,MAAM,CAACF,KAAK,CAAE;YAACO,WAAW,EAAC,2DAAc;YAACJ,QAAQ,EAAEzE;UAAkB;YAAA+D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzK,CAAC,eACNvF,OAAA;UAAAmF,QAAA,gBACEnF,OAAA;YAAOyF,OAAO,EAAC,YAAY;YAAAN,QAAA,EAAC;UAAW;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC/CvF,OAAA;YAAO0E,IAAI,EAAC,QAAQ;YAACgB,EAAE,EAAC,YAAY;YAACC,KAAK,EAAElE,UAAW;YAACmE,QAAQ,EAAGrB,CAAC,IAAK7C,aAAa,CAAC6C,CAAC,CAACsB,MAAM,CAACF,KAAK,CAAE;YAACO,WAAW,EAAC,aAAQ;YAACJ,QAAQ,EAAEzE;UAAkB;YAAA+D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzJ,CAAC,eACNvF,OAAA;UAAAmF,QAAA,gBAAKnF,OAAA;YAAOyF,OAAO,EAAC,eAAe;YAAAN,QAAA,EAAC;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAAAvF,OAAA;YAAO0E,IAAI,EAAC,QAAQ;YAACgB,EAAE,EAAC,eAAe;YAACC,KAAK,EAAEhE,aAAc;YAACiE,QAAQ,EAAGrB,CAAC,IAAK3C,gBAAgB,CAAC2C,CAAC,CAACsB,MAAM,CAACF,KAAK,CAAE;YAACO,WAAW,EAAC;UAAM;YAAAd,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAC/LvF,OAAA;UAAAmF,QAAA,gBAAKnF,OAAA;YAAOyF,OAAO,EAAC,aAAa;YAAAN,QAAA,EAAC;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAAAvF,OAAA;YAAO0E,IAAI,EAAC,QAAQ;YAACgB,EAAE,EAAC,aAAa;YAACC,KAAK,EAAE9D,WAAY;YAAC+D,QAAQ,EAAGrB,CAAC,IAAKzC,cAAc,CAACyC,CAAC,CAACsB,MAAM,CAACF,KAAK,CAAE;YAACO,WAAW,EAAC;UAAM;YAAAd,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACxLvF,OAAA;UAAAmF,QAAA,gBAAKnF,OAAA;YAAOyF,OAAO,EAAC,WAAW;YAAAN,QAAA,EAAC;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAAAvF,OAAA;YAAO0E,IAAI,EAAC,QAAQ;YAACgB,EAAE,EAAC,WAAW;YAACC,KAAK,EAAE5D,SAAU;YAAC6D,QAAQ,EAAGrB,CAAC,IAAKvC,YAAY,CAACuC,CAAC,CAACsB,MAAM,CAACF,KAAK,CAAE;YAACO,WAAW,EAAC;UAAM;YAAAd,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAC9KvF,OAAA;UAAQ0E,IAAI,EAAC,QAAQ;UAACyB,OAAO,EAAE1C,mBAAoB;UAACsC,KAAK,EAAE;YAACc,eAAe,EAAE;UAAS,CAAE;UAAA1B,QAAA,EAAC;QAEzF;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CACN,EAGApE,oBAAoB,CAACyB,MAAM,GAAG,CAAC,iBAC9B5C,OAAA;QAAKkF,SAAS,EAAC,SAAS;QAAAC,QAAA,gBACtBnF,OAAA;UAAAmF,QAAA,EAAI;QAAc;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACvBvF,OAAA;UAAIkF,SAAS,EAAC,iBAAiB;UAAAC,QAAA,EAC5BhE,oBAAoB,CAACyD,GAAG,CAAC,CAACC,IAAI,EAAER,KAAK;YAAA,IAAA0C,qBAAA,EAAAC,eAAA,EAAAC,oBAAA;YAAA,oBACpCjH,OAAA;cAAgB+F,KAAK,EAAE;gBAACc,eAAe,EAAEhC,IAAI,CAACtB,MAAM,KAAK,QAAQ,GAAG,SAAS,GAAG;cAAS,CAAE;cAAA4B,QAAA,gBACzFnF,OAAA;gBAAAmF,QAAA,GACGN,IAAI,CAACvB,IAAI,EAAC,UACR,GAAAyD,qBAAA,IAAAC,eAAA,GAACnC,IAAI,CAACrB,SAAS,cAAAwD,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBpD,IAAI,cAAAqD,oBAAA,uBAApBA,oBAAA,CAAsBR,OAAO,CAAC,CAAC,CAAC,cAAAM,qBAAA,cAAAA,qBAAA,GAAI,KAAK,EAAC,OAC9C,EAAClC,IAAI,CAACtB,MAAM,KAAK,QAAQ,IAAI,SAAS,EAAC,GACzC;cAAA;gBAAA6B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACPvF,OAAA;gBAAQ0E,IAAI,EAAC,QAAQ;gBAACyB,OAAO,EAAEA,CAAA,KAAMlC,wBAAwB,CAACI,KAAK,CAAE;gBAAC0B,KAAK,EAAE;kBAACO,QAAQ,EAAE,OAAO;kBAAEK,OAAO,EAAE,SAAS;kBAAEE,eAAe,EAAE;gBAAS,CAAE;gBAAA1B,QAAA,EAAC;cAElJ;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA,GARFlB,KAAK;cAAAe,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OASV,CAAC;UAAA,CACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CACN,eAEDvF,OAAA;QAAQ0E,IAAI,EAAC,QAAQ;QAAC0B,QAAQ,EAAE/D,aAAa,IAAIlB,oBAAoB,CAACyB,MAAM,KAAK,CAAE;QAACmD,KAAK,EAAE;UAACa,SAAS,EAAE,MAAM;UAAEC,eAAe,EAAE;QAAS,CAAE;QAAA1B,QAAA,EACxI9C,aAAa,GAAG,YAAY,GAAG;MAAc;QAAA+C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,EACNtD,aAAa,iBAAIjC,OAAA;MAAG+F,KAAK,EAAE;QAAEM,KAAK,EAAE;MAAQ,CAAE;MAAAlB,QAAA,EAAElD;IAAa;MAAAmD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAClEpD,WAAW,iBAAInC,OAAA;MAAG+F,KAAK,EAAE;QAAEM,KAAK,EAAE;MAAM,CAAE;MAAAlB,QAAA,EAAEhD;IAAW;MAAAiD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC1D,CAAC;AAEV;AAACpF,EAAA,CAjOQF,QAAQ;AAAAiH,EAAA,GAARjH,QAAQ;AAmOjB,eAAeA,QAAQ;AAAC,IAAAiH,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}